<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>CppELib: OSWrapper::ThreadPool Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CppELib
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classOSWrapper_1_1ThreadPool.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classOSWrapper_1_1ThreadPool-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">OSWrapper::ThreadPool Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class of thread pool pattern.  
 <a href="classOSWrapper_1_1ThreadPool.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ThreadPool_8h_source.html">ThreadPool.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html">WaitGuard</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class to wait for the asynchronous task finished.  <a href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a87fce0be033b9a77bcc17fff2ad9df5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceOSWrapper.html#a9919652339cee8d24949ac20f82b8f68">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSWrapper_1_1ThreadPool.html#a87fce0be033b9a77bcc17fff2ad9df5c">start</a> (<a class="el" href="classOSWrapper_1_1Runnable.html">Runnable</a> *task, <a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html">WaitGuard</a> *waiter=0, int priority=<a class="el" href="classOSWrapper_1_1Thread.html#a4cad00fd7ebbf9e2aeb40c5b761786e3">Thread::INHERIT_PRIORITY</a>)</td></tr>
<tr class="memdesc:a87fce0be033b9a77bcc17fff2ad9df5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start an asynchronous task.  <a href="#a87fce0be033b9a77bcc17fff2ad9df5c">More...</a><br /></td></tr>
<tr class="separator:a87fce0be033b9a77bcc17fff2ad9df5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aa2ae3fec9ba47b0a66111c05d142f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceOSWrapper.html#a9919652339cee8d24949ac20f82b8f68">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSWrapper_1_1ThreadPool.html#a0aa2ae3fec9ba47b0a66111c05d142f9">tryStart</a> (<a class="el" href="classOSWrapper_1_1Runnable.html">Runnable</a> *task, <a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html">WaitGuard</a> *waiter=0, int priority=<a class="el" href="classOSWrapper_1_1Thread.html#a4cad00fd7ebbf9e2aeb40c5b761786e3">Thread::INHERIT_PRIORITY</a>)</td></tr>
<tr class="memdesc:a0aa2ae3fec9ba47b0a66111c05d142f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to start an asynchronous task without blocking.  <a href="#a0aa2ae3fec9ba47b0a66111c05d142f9">More...</a><br /></td></tr>
<tr class="separator:a0aa2ae3fec9ba47b0a66111c05d142f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a8e78b8d1e5639479862cb36efd004b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceOSWrapper.html#a9919652339cee8d24949ac20f82b8f68">Error</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSWrapper_1_1ThreadPool.html#a6a8e78b8d1e5639479862cb36efd004b">timedStart</a> (<a class="el" href="classOSWrapper_1_1Runnable.html">Runnable</a> *task, <a class="el" href="classOSWrapper_1_1Timeout.html">Timeout</a> tmout, <a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html">WaitGuard</a> *waiter=0, int priority=<a class="el" href="classOSWrapper_1_1Thread.html#a4cad00fd7ebbf9e2aeb40c5b761786e3">Thread::INHERIT_PRIORITY</a>)</td></tr>
<tr class="memdesc:a6a8e78b8d1e5639479862cb36efd004b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start an asynchronous task with <a class="el" href="classOSWrapper_1_1Timeout.html" title="Value object for the timeout. ">Timeout</a>.  <a href="#a6a8e78b8d1e5639479862cb36efd004b">More...</a><br /></td></tr>
<tr class="separator:a6a8e78b8d1e5639479862cb36efd004b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afef5eb09f761ec3ebb2d7e061ef503d4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSWrapper_1_1ThreadPool.html#afef5eb09f761ec3ebb2d7e061ef503d4">setUncaughtExceptionHandler</a> (<a class="el" href="classOSWrapper_1_1Thread_1_1UncaughtExceptionHandler.html">Thread::UncaughtExceptionHandler</a> *handler)</td></tr>
<tr class="memdesc:afef5eb09f761ec3ebb2d7e061ef503d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the UncaughtExceptionHandler for this <a class="el" href="classOSWrapper_1_1ThreadPool.html" title="Class of thread pool pattern. ">ThreadPool</a>.  <a href="#afef5eb09f761ec3ebb2d7e061ef503d4">More...</a><br /></td></tr>
<tr class="separator:afef5eb09f761ec3ebb2d7e061ef503d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a30f3548fcabe105dd76c48eb2868bf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classOSWrapper_1_1Thread_1_1UncaughtExceptionHandler.html">Thread::UncaughtExceptionHandler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSWrapper_1_1ThreadPool.html#a3a30f3548fcabe105dd76c48eb2868bf">getUncaughtExceptionHandler</a> () const </td></tr>
<tr class="memdesc:a3a30f3548fcabe105dd76c48eb2868bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the UncaughtExceptionHandler for this <a class="el" href="classOSWrapper_1_1ThreadPool.html" title="Class of thread pool pattern. ">ThreadPool</a>.  <a href="#a3a30f3548fcabe105dd76c48eb2868bf">More...</a><br /></td></tr>
<tr class="separator:a3a30f3548fcabe105dd76c48eb2868bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a50800eb4aaece4ccdca8319f68ca3d68"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classOSWrapper_1_1ThreadPool.html">ThreadPool</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSWrapper_1_1ThreadPool.html#a50800eb4aaece4ccdca8319f68ca3d68">create</a> (std::size_t maxThreads, std::size_t stackSize=0U, int defaultPriority=Thread::getNormalPriority())</td></tr>
<tr class="memdesc:a50800eb4aaece4ccdca8319f68ca3d68"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a <a class="el" href="classOSWrapper_1_1ThreadPool.html" title="Class of thread pool pattern. ">ThreadPool</a> object.  <a href="#a50800eb4aaece4ccdca8319f68ca3d68">More...</a><br /></td></tr>
<tr class="separator:a50800eb4aaece4ccdca8319f68ca3d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b126597ed141c6f0864219f1d26348c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classOSWrapper_1_1ThreadPool.html#a6b126597ed141c6f0864219f1d26348c">destroy</a> (<a class="el" href="classOSWrapper_1_1ThreadPool.html">ThreadPool</a> *p)</td></tr>
<tr class="memdesc:a6b126597ed141c6f0864219f1d26348c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destroy a <a class="el" href="classOSWrapper_1_1ThreadPool.html" title="Class of thread pool pattern. ">ThreadPool</a> object.  <a href="#a6b126597ed141c6f0864219f1d26348c">More...</a><br /></td></tr>
<tr class="separator:a6b126597ed141c6f0864219f1d26348c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class of thread pool pattern. </p>
<p><a class="el" href="classOSWrapper_1_1ThreadPool.html" title="Class of thread pool pattern. ">ThreadPool</a> creates some threads to call tasks asynchronously. When asynchronous tasks are finished, used threads are reused later instead of destroyed. An asynchronous task needs to be a class that implements <a class="el" href="classOSWrapper_1_1Runnable.html" title="Interface for implementing an active class. ">OSWrapper::Runnable</a> interface. You can set a thread priority of the asynchronous task when you call <a class="el" href="classOSWrapper_1_1ThreadPool.html#a87fce0be033b9a77bcc17fff2ad9df5c" title="Start an asynchronous task. ">start()</a>.</p>
<p>If you choose to use a <a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html" title="Class to wait for the asynchronous task finished. ">WaitGuard</a> when you call <a class="el" href="classOSWrapper_1_1ThreadPool.html#a87fce0be033b9a77bcc17fff2ad9df5c" title="Start an asynchronous task. ">start()</a>, you need to wait for the asynchronous task finished. After you check the task finished, you can take data from the task object without mutex.</p>
<p>If you choose not to use a <a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html" title="Class to wait for the asynchronous task finished. ">WaitGuard</a> when you call <a class="el" href="classOSWrapper_1_1ThreadPool.html#a87fce0be033b9a77bcc17fff2ad9df5c" title="Start an asynchronous task. ">start()</a>, you don't have to wait for the task finished. But the destruction of the task object must be later than the task finished. Otherwise the access violation may occur that the thread may access to the destroyed object. </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a50800eb4aaece4ccdca8319f68ca3d68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOSWrapper_1_1ThreadPool.html">ThreadPool</a> * OSWrapper::ThreadPool::create </td>
          <td>(</td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>maxThreads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::size_t&#160;</td>
          <td class="paramname"><em>stackSize</em> = <code>0U</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>defaultPriority</em> = <code><a class="el" href="classOSWrapper_1_1Thread.html#ac3fa22e91452e2aeb5d2e68c775668d5">Thread::getNormalPriority</a>()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a <a class="el" href="classOSWrapper_1_1ThreadPool.html" title="Class of thread pool pattern. ">ThreadPool</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">maxThreads</td><td>Number of max threads that can execute concurrently </td></tr>
    <tr><td class="paramname">stackSize</td><td>Stack size of threads. If zero then sets default stack size of RTOS. </td></tr>
    <tr><td class="paramname">defaultPriority</td><td>First, the thread priority is <code>defaultPriority</code> when the threads are created. Then the priority is changed by the parameter of <a class="el" href="classOSWrapper_1_1ThreadPool.html#a87fce0be033b9a77bcc17fff2ad9df5c" title="Start an asynchronous task. ">start()</a> when an asynchronous task is started. After the asynchronous task finishes, the priority returns to <code>defaultPriority</code>. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If this method succeeds then returns a pointer of <a class="el" href="classOSWrapper_1_1ThreadPool.html" title="Class of thread pool pattern. ">ThreadPool</a> object, else returns null pointer </dd></dl>

</div>
</div>
<a class="anchor" id="a6b126597ed141c6f0864219f1d26348c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void OSWrapper::ThreadPool::destroy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOSWrapper_1_1ThreadPool.html">ThreadPool</a> *&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destroy a <a class="el" href="classOSWrapper_1_1ThreadPool.html" title="Class of thread pool pattern. ">ThreadPool</a> object. </p>
<p>This method waits for all of the asynchronous tasks finished and destroys all of the threads.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p</td><td>Pointer of <a class="el" href="classOSWrapper_1_1ThreadPool.html" title="Class of thread pool pattern. ">ThreadPool</a> object created by <a class="el" href="classOSWrapper_1_1ThreadPool.html#a50800eb4aaece4ccdca8319f68ca3d68" title="Create a ThreadPool object. ">ThreadPool::create()</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If p is null pointer, do nothing. </dd></dl>

</div>
</div>
<a class="anchor" id="a3a30f3548fcabe105dd76c48eb2868bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classOSWrapper_1_1Thread_1_1UncaughtExceptionHandler.html">Thread::UncaughtExceptionHandler</a> * OSWrapper::ThreadPool::getUncaughtExceptionHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the UncaughtExceptionHandler for this <a class="el" href="classOSWrapper_1_1ThreadPool.html" title="Class of thread pool pattern. ">ThreadPool</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>The UncaughtExceptionHandler object </dd></dl>

</div>
</div>
<a class="anchor" id="afef5eb09f761ec3ebb2d7e061ef503d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSWrapper::ThreadPool::setUncaughtExceptionHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOSWrapper_1_1Thread_1_1UncaughtExceptionHandler.html">Thread::UncaughtExceptionHandler</a> *&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the UncaughtExceptionHandler for this <a class="el" href="classOSWrapper_1_1ThreadPool.html" title="Class of thread pool pattern. ">ThreadPool</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>Pointer of UncaughtExceptionHandler object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a87fce0be033b9a77bcc17fff2ad9df5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceOSWrapper.html#a9919652339cee8d24949ac20f82b8f68">Error</a> OSWrapper::ThreadPool::start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOSWrapper_1_1Runnable.html">Runnable</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html">WaitGuard</a> *&#160;</td>
          <td class="paramname"><em>waiter</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em> = <code><a class="el" href="classOSWrapper_1_1Thread.html#a4cad00fd7ebbf9e2aeb40c5b761786e3">Thread::INHERIT_PRIORITY</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start an asynchronous task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Asynchronous task </td></tr>
    <tr><td class="paramname">waiter</td><td>Pointer of variable of <a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html" title="Class to wait for the asynchronous task finished. ">WaitGuard</a> object that state is invalid. If this method succeeds, the <a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html" title="Class to wait for the asynchronous task finished. ">WaitGuard</a> object becomes valid. If you don't want to wait for the task finished, specify null pointer or omit this. </td></tr>
    <tr><td class="paramname">priority</td><td><a class="el" href="classOSWrapper_1_1Thread.html" title="Abstract class that has functions of common RTOS&#39;s thread. ">Thread</a> priority of the asynchronous task </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">OK</td><td>Success. A free thread has been allocated and started </td></tr>
    <tr><td class="paramname">InvalidParameter</td><td><code>task</code> is null pointer </td></tr>
    <tr><td class="paramname">CalledByNonThread</td><td>Called from non thread context (interrupt handler, timer, etc)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Same as timedStart(task, Timeout::FOREVER, waiter, priority) </dd></dl>

</div>
</div>
<a class="anchor" id="a6a8e78b8d1e5639479862cb36efd004b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceOSWrapper.html#a9919652339cee8d24949ac20f82b8f68">Error</a> OSWrapper::ThreadPool::timedStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOSWrapper_1_1Runnable.html">Runnable</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOSWrapper_1_1Timeout.html">Timeout</a>&#160;</td>
          <td class="paramname"><em>tmout</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html">WaitGuard</a> *&#160;</td>
          <td class="paramname"><em>waiter</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em> = <code><a class="el" href="classOSWrapper_1_1Thread.html#a4cad00fd7ebbf9e2aeb40c5b761786e3">Thread::INHERIT_PRIORITY</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start an asynchronous task with <a class="el" href="classOSWrapper_1_1Timeout.html" title="Value object for the timeout. ">Timeout</a>. </p>
<p>If all thread of this <a class="el" href="classOSWrapper_1_1ThreadPool.html" title="Class of thread pool pattern. ">ThreadPool</a> have already started, this method blocks the current thread for the limited time until a free thread is allocated.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Asynchronous task </td></tr>
    <tr><td class="paramname">tmout</td><td>The limited time </td></tr>
    <tr><td class="paramname">waiter</td><td>Pointer of variable of <a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html" title="Class to wait for the asynchronous task finished. ">WaitGuard</a> object that state is invalid. If this method succeeds, the <a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html" title="Class to wait for the asynchronous task finished. ">WaitGuard</a> object becomes valid. If you don't want to wait for the task finished, specify null pointer or omit this. </td></tr>
    <tr><td class="paramname">priority</td><td><a class="el" href="classOSWrapper_1_1Thread.html" title="Abstract class that has functions of common RTOS&#39;s thread. ">Thread</a> priority of the asynchronous task </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">OK</td><td>Success. A free thread has been allocated and started </td></tr>
    <tr><td class="paramname">InvalidParameter</td><td><code>task</code> is null pointer </td></tr>
    <tr><td class="paramname">TimedOut</td><td>The limited time was elapsed </td></tr>
    <tr><td class="paramname">CalledByNonThread</td><td>Called from non thread context (interrupt handler, timer, etc)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If <code>tmout</code> is <a class="el" href="classOSWrapper_1_1Timeout.html#a782f33919fad883b30bcaacb16f40aa8" title="Constant value object for non-blocking. ">Timeout::POLLING</a> then this method does not block. </dd>
<dd>
If <code>tmout</code> is <a class="el" href="classOSWrapper_1_1Timeout.html#a5f0e093fc72a41c2b92c14b86b68c1d3" title="Constant value object for waiting forever until condition satisfied. ">Timeout::FOREVER</a> then this method waits forever until a free thread is allocated. </dd></dl>

</div>
</div>
<a class="anchor" id="a0aa2ae3fec9ba47b0a66111c05d142f9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceOSWrapper.html#a9919652339cee8d24949ac20f82b8f68">Error</a> OSWrapper::ThreadPool::tryStart </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classOSWrapper_1_1Runnable.html">Runnable</a> *&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html">WaitGuard</a> *&#160;</td>
          <td class="paramname"><em>waiter</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>priority</em> = <code><a class="el" href="classOSWrapper_1_1Thread.html#a4cad00fd7ebbf9e2aeb40c5b761786e3">Thread::INHERIT_PRIORITY</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Try to start an asynchronous task without blocking. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>Asynchronous task </td></tr>
    <tr><td class="paramname">waiter</td><td>Pointer of variable of <a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html" title="Class to wait for the asynchronous task finished. ">WaitGuard</a> object that state is invalid. If this method succeeds, the <a class="el" href="classOSWrapper_1_1ThreadPool_1_1WaitGuard.html" title="Class to wait for the asynchronous task finished. ">WaitGuard</a> object becomes valid. If you don't want to wait for the task finished, specify null pointer or omit this. </td></tr>
    <tr><td class="paramname">priority</td><td><a class="el" href="classOSWrapper_1_1Thread.html" title="Abstract class that has functions of common RTOS&#39;s thread. ">Thread</a> priority of the asynchronous task </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">OK</td><td>Success. A free thread has been allocated and started </td></tr>
    <tr><td class="paramname">InvalidParameter</td><td><code>task</code> is null pointer </td></tr>
    <tr><td class="paramname">TimedOut</td><td>Failed to allocate a free thread</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Same as timedStart(task, Timeout::POLLING, waiter, priority) </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>mechanism/OSWrapper/<a class="el" href="ThreadPool_8h_source.html">ThreadPool.h</a></li>
<li>mechanism/OSWrapper/<a class="el" href="ThreadPool_8cpp.html">ThreadPool.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceOSWrapper.html">OSWrapper</a></li><li class="navelem"><a class="el" href="classOSWrapper_1_1ThreadPool.html">ThreadPool</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
